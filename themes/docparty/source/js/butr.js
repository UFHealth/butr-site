!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Butr",[],t):"object"==typeof exports?exports.Butr=t():e.Butr=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0})},function(e,t,n){"use strict";n.r(t);n(0);var r={animating:!1,topBuffer:0,bottomBuffer:0,settings:{}},o=function(e,t){var n=null,r=performance.now();return function(){r+t-performance.now()<0&&(e(),r=performance.now()),n&&clearTimeout(n),n=setTimeout(e,t)}},i=function(e,t){var n=e.className+" "+t;e.className=n.trim()},u=function(e){var t={target:0,direction:"y",keepHash:!0,speed:1,afterTo:null,scrollOffset:r.settings.scrollOffset||0};e=Object.assign({},t,e);var n,o,i,u=window.matchMedia("(prefers-reduced-motion)").matches,a=function(){if("#"===e.target[0]){var t=document.getElementById(e.target.substr(1)),n=t.getBoundingClientRect();if(t&&"x"===e.direction){var r=i.scrollLeft;return Math.max(n.left+r-e.scrollOffset,0)}if(t&&"y"===e.direction){var o=i.scrollTop;return Math.max(n.top+o-e.scrollOffset,0)}return 0}return e.target},c=function(t){"x"===e.direction?i.scrollLeft=t:i.scrollTop=t},s=function(){"function"==typeof e.afterTo&&e.afterTo()},l=function(){var t;n="x"===e.direction?i.scrollLeft:i.scrollTop,(o=a())===n?s():function(e){var t,n,o,i=Object.assign({},{duration:800,loop:null,done:null,easing:"easeInOutQuad"},e),u=function e(){o=performance.now(),i.loop(a),o<n?requestAnimationFrame(e):(r.animating=!1,"function"==typeof i.done&&i.done())},a=function(e,t){return e+(t-e)*s[i.easing](c())},c=function(){return Math.min((o-t)/i.duration,1)},s={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};r.animating=!0,t=performance.now(),n=t+i.duration,u()}({duration:(t=o-n,1/e.speed*24*Math.sqrt(Math.abs(t))),loop:function(e){var t=e(n,o);c(t)},done:s})};i=e&&e.scrollingElement?document.querySelector(e.scrollingElement):document.scrollingElement||document.documentElement,u?c(a()):l(),e.keepHash&&"#"===e.target[0]&&history.pushState({},"",e.target)},a=function(){var e,t,n,u,a,c,s,l=r.settings,f=window.matchMedia("(prefers-reduced-motion)").matches,d=function(e){var n,r,o=document.querySelector(".js-butr-link.js-butr-active"),u=document.querySelector('.js-butr-link[href="'+e+'"]');u!==o&&(o&&(o.classList.remove("js-butr-active"),l.activeClass&&o.classList.remove(l.activeClass)),u&&(u.classList.add("js-butr-active"),l.activeClass&&i(u,l.activeClass),r=(n=u).offsetTop,window.getComputedStyle(n),t.style.transform="translateY(".concat(r,"px)"),t.style.height="".concat(n.offsetHeight,"px")))},p=function(){e=n.scrollTop,function(){for(var t,n=0;n<c.length;n++)if(c[n]){if(c[n].getBoundingClientRect().top+e-l.scrollOffset-2>e){t||(t=c[n]);break}t=c[n]}t&&d("#"+t.id)}()},m=o((function(){r.animating||p()}),33);!function(){n=l.scrollingElement?document.querySelector(l.scrollingElement):document.scrollingElement||document.documentElement,s=document.querySelector(".js-butr-nav"),u=document.querySelectorAll(".js-butr-link"),a=document.querySelector(".js-butr-content"),c=[];for(var e=u.length-1;e>=0;e--)c.unshift(a.querySelector(u[e].getAttribute("href")))}(),(s&&u&&a||(console.error("Error: Missing required classes on nav or links. Aborted setup of Butr.marker"),0))&&(function(){(t=document.createElement("div")).classList.add("js-butr-marker"),l.markerClass&&i(t,l.markerClass),t.style.height=u[0].offsetHeight+"px";var e="cubic-bezier(0.455, 0.03, 0.515, 0.955)";f||(t.style.transition=["".concat(l.duration,"ms transform ").concat(e),"".concat(l.duration,"ms height ").concat(e)].join(",")),s.appendChild(t)}(),function(){for(var e=function(e){u[e].addEventListener("click",(function(t){d(u[e].hash)}))},t=0;t<u.length;t++)e(t)}(),p(),window.addEventListener("scroll",m))},c=function(){var e,t,n,o=r.settings,u=[],a=[u],c=0,s=function(e){return e.id||(e.id=function(e){for(var t=e.toLowerCase().replace(/\s+/g,"-").replace(/(\d)\./g,"$1-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),n=t,r=0;document.getElementById(n);)n=t+"-"+ ++r;return n}(e.textContent)),"#"+e.id},l=function(e){return parseInt(e.tagName.substr(1))-c},f=function(e){return{label:e.textContent.trim(),hash:s(e),children:[]}},d=function(e){var t=document.createElement("li"),n=document.createElement("a");return n.href=e.hash,n.setAttribute("data-butr",!0),n.innerText=e.label,n.classList.add("js-butr-link"),o.aClass&&i(n,o.aClass),o.liClass&&i(t,o.liClass),t.appendChild(n),t},p=function e(t){var n=document.createElement("ol");o.olClass&&i(n,o.olClass);for(var r=0;r<t.length;r++){var u=t[r],a=d(u);u.children.length&&a.appendChild(e(u.children)),n.appendChild(a)}return n};!function(){if(n=document.querySelector(".js-butr-nav"),e=document.querySelector(".js-butr-content"),t=e.querySelectorAll("h2, h3, h4, h5, h6"),n&&e&&t||(console.error("Error: Missing required classes on nav, content, or headings. Aborted setup of Butr.marker"),0)){!function(){for(var e=0;e<t.length;e++){var n=t[e],r=l(n),o=t[(s=e)+1]?parseInt(t[s+1].tagName.substr(1))-c:0,i=f(n);if(a[a.length-1].push(i),o)if(o>r)o-=c+=o-r-1,a.push(i.children);else if(o<r){o+=c;for(var u=0;u<r-o;u++)a.pop();c=0}}var s}();var r=p(u);o.prepend?n.insertBefore(r,n.firstElementChild):n.appendChild(r)}}()},s=function(){var e=r.settings,t=document.querySelector(".js-butr-nav"),n=t.parentElement,i=window.getComputedStyle(n),u=parseInt(i.getPropertyValue("padding-top"),10),a=parseInt(i.getPropertyValue("padding-bottom"),10),c=function(){var e=";position: fixed; top: "+(r.topBuffer+u)+"px; bottom: auto;";t.style.cssText+=e},s=function(){var e=";position: absolute; top: auto; bottom: "+a+"px;";t.style.cssText+=e},l=o((function(){var e=getComputedStyle(t).position,o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),l=Math.round(i.top),f=Math.round(i.bottom),d=Math.round(o.top),p=Math.round(o.bottom);"fixed"===e?l>r.topBuffer?t.style.cssText+=";position: relative; top: auto; bottom: auto;":f-a<p&&s():"absolute"===e?d>=r.topBuffer+u&&c():"relative"===e&&(f-a<t.offsetHeight+r.topBuffer+u?s():d-r.topBuffer-u<=0&&c())}),33),f=function(){var e,n,o,u,a;e=parseInt(i.getPropertyValue("padding-right"),10),n=parseInt(i.getPropertyValue("padding-left"),10),o=parseInt(i.getPropertyValue("width"),10),t.style.maxWidth=o-n-e+"px",t.style.width="100%",u=document.querySelector(".js-butr-avoidAbove"),a=document.querySelector(".js-butr-avoidBelow"),u&&(r.topBuffer=Math.round(u.getBoundingClientRect().bottom)),a&&(r.bottomBuffer=Math.round(a.getBoundingClientRect().top)),l(),window.addEventListener("scroll",l),window.addEventListener("resize",l)};e.mediaQuery?matchMedia(e.mediaQuery).matches&&f():f()},l={olClass:"Butr__Sidebar__List",liClass:"Butr__Sidebar__Item",aClass:"Butr__Sidebar__Link",scrollingElement:null,duration:320,markerClass:"Butr__Marker",activeClass:"Butr__Sidebar__Link--active",mediaQuery:!1},f={init:function(e){r.settings=Object.assign({},l,e),e.AutoSidebar&&c(),e.AutoAnchors&&function(){var e=document.body.querySelectorAll("a[data-butr]");if(!e.length)return!1;for(var t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){e.preventDefault(),u({target:e.currentTarget.getAttribute("href")})}))}(),e.Marker&&a(),e.StickyNav&&s()},to:u};t.default=f}]).default}));